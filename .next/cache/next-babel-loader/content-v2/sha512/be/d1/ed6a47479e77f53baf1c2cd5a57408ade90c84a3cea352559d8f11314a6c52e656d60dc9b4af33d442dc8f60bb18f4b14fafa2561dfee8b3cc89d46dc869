{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport _toConsumableArray from \"/Users/naibtahmazli/Documents/166kargo/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport axios from 'axios';\nimport { useRouter } from \"next/router\";\nimport React, { useState } from 'react';\nimport { useForm } from \"react-hook-form\";\nimport Button from \"../components/button/index\";\nimport Card from \"../components/card/card\";\nimport FromGroup from \"../components/form-group/form-group\";\nimport Input from \"../components/input/input\";\nimport Page from \"../components/page/page\";\nimport Tabel from \"../components/tabel/tabel\";\nimport { useIntl } from 'react-intl';\n\nfunction Search() {\n  var _useIntl = useIntl(),\n      f = _useIntl.formatMessage;\n\n  var _useState = useState({\n    data: [],\n    isloaded: ''\n  }),\n      results = _useState[0],\n      setResults = _useState[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useRouter = useRouter(),\n      locale = _useRouter.locale;\n\n  var submit = function submit(data) {\n    axios.get(\"\".concat(process.env.NEXT_PUBLIC_API_URL, \"batch/\").concat(data.searchKey, \"?lan=\").concat(locale), {\n      headers: {\n        'Content-Type': 'application/json' //   'authorization': `Bearer ${props.entry.user.accessToken}`\n\n      }\n    }).then(function (res) {\n      setResults({\n        data: _toConsumableArray(res.data.map(function (x) {\n          return {\n            track_number: x.track_number,\n            status: x.status.name\n          };\n        })),\n        isloaded: true\n      });\n    })[\"catch\"](function (err) {\n      setResults({\n        data: [],\n        isloaded: false\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsx(Page, {\n    className: \"bg-bg pt-lg pb-lg\",\n    children: /*#__PURE__*/_jsxs(Card, {\n      className: \"bg-white w-100 p-lg\",\n      children: [/*#__PURE__*/_jsx(Card.Header, {\n        text: f({\n          id: 'search-pac'\n        }),\n        style: {\n          justifyContent: 'center'\n        }\n      }), /*#__PURE__*/_jsxs(Card.Body, {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'center',\n          flexDirection: 'column'\n        },\n        children: [/*#__PURE__*/_jsxs(\"div\", {\n          className: \"\",\n          children: [/*#__PURE__*/_jsxs(\"form\", {\n            onSubmit: handleSubmit(submit),\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              width: 'max-content'\n            },\n            className: \"search__ff\",\n            children: [/*#__PURE__*/_jsx(FromGroup, {\n              className: \"m-none mr-xs\",\n              bodyClass: \"border-subtitle\",\n              bodyStyle: {\n                height: '44px',\n                width: '250px'\n              },\n              style: {\n                marginBottom: '0px'\n              },\n              children: /*#__PURE__*/_jsx(Input, {\n                name: \"searchKey\",\n                className: \"pl-xs\",\n                placeholder: f({\n                  id: 'ent-code'\n                }),\n                Ref: register()\n              })\n            }), /*#__PURE__*/_jsx(Button, {\n              type: \"submit\",\n              label: f({\n                id: 'search'\n              }),\n              className: \"pl-lg pr-lg\",\n              style: {\n                height: '44px'\n              }\n            })]\n          }), /*#__PURE__*/_jsx(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsx(\"small\", {\n              style: {\n                fontSize: 'xx-small'\n              },\n              children: \"n\\xFCmun\\u0259: 77498777656658\"\n            })\n          })]\n        }), results.isloaded === true ? /*#__PURE__*/_jsx(Tabel, {\n          className: \"w-75 mt-lg\",\n          th: [f({\n            id: 'tracking'\n          }), f({\n            id: 'status'\n          })],\n          data: results.data,\n          renderBody: function renderBody(x) {\n            return /*#__PURE__*/_jsx(\"td\", {\n              children: x\n            });\n          }\n        }) : results.isloaded === false ? /*#__PURE__*/_jsx(\"h3\", {\n          className: \"mt-lg\",\n          children: f({\n            id: \"not-found\"\n          })\n        }) : null]\n      })]\n    })\n  });\n}\n\nexport default Search;","map":null,"metadata":{},"sourceType":"module"}