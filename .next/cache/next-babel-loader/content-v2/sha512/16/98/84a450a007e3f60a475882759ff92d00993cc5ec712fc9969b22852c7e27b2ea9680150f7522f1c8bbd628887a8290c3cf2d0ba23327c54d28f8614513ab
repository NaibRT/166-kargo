{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { memo, useEffect, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useIntl } from 'react-intl';\nimport { connect } from \"react-redux\";\nimport { Login, LogOut } from \"../../redux/entry/entryActions\";\nimport { default as Button } from '../button';\nimport Divider from \"../divider/divider\";\nimport Page from '../page/page';\nimport Burger from './burger';\nimport Hovermenu from './hovermenu';\nimport MenuMobile from './menu-mobile';\n\nvar useOnClickOutside = function useOnClickOutside(ref, handler) {\n  useEffect(function () {\n    var listener = function listener(event) {\n      if (!ref.current || ref.current.contains(event.target)) return;\n      handler(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    return function () {\n      document.removeEventListener(\"mousedown\", listener);\n    };\n  }, [ref, handler]);\n};\n\nvar Navbar = function Navbar(props) {\n  var _useState = useState(false),\n      open = _useState[0],\n      setOpen = _useState[1];\n\n  var _useState2 = useState(false),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useState3 = useState(false),\n      isHoverMenu = _useState3[0],\n      setHoverMenu = _useState3[1];\n\n  var node = useRef();\n  useOnClickOutside(node, function () {\n    return setOpen(false);\n  });\n\n  var togglePopup = function togglePopup() {\n    setIsOpen(!isOpen);\n  };\n\n  var hovermenuToggle = function hovermenuToggle() {\n    setHoverMenu(!isHoverMenu);\n  };\n\n  useEffect(function () {\n    setOpen(false);\n  }, [basePath]);\n\n  var submit = function submit(data) {\n    props.Login('auth/login', JSON.stringify(data), {\n      'content-type': 'application/json'\n    });\n  };\n\n  var _useRouter = useRouter(),\n      locale = _useRouter.locale,\n      locales = _useRouter.locales,\n      basePath = _useRouter.basePath,\n      asPath = _useRouter.asPath;\n\n  var router = useRouter();\n\n  var _useIntl = useIntl(),\n      f = _useIntl.formatMessage;\n\n  var handleLocaleChange = function handleLocaleChange(e) {\n    var locale = e.target.value;\n    router.push(\"\".concat(asPath), \"\".concat(asPath), {\n      locale: locale\n    });\n  };\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit,\n      errors = _useForm.errors;\n\n  var navItemRefs = useRef([]);\n\n  var addNavItems = function addNavItems(ref) {\n    if (ref && !navItemRefs.current.includes(ref)) {\n      navItemRefs.current.push(ref);\n    }\n  };\n\n  var navItemHandler = function navItemHandler(e) {\n    navItemRefs.current.forEach(function (x) {\n      return x.children[0].classList.remove('nav-item-active');\n    });\n    e.target.classList.add('nav-item-active');\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      className: \"header deskmenu\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"bg\",\n        children: /*#__PURE__*/_jsx(Page, {\n          children: /*#__PURE__*/_jsxs(\"nav\", {\n            className: \"top__header\",\n            children: [/*#__PURE__*/_jsxs(\"ul\", {\n              className: \"top__header-left\",\n              children: [/*#__PURE__*/_jsx(\"li\", {\n                onClick: navItemHandler,\n                ref: addNavItems,\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/faq\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: f({\n                      id: 'faq'\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                onClick: navItemHandler,\n                ref: addNavItems,\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/valuta\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: f({\n                      id: 'converter'\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                onClick: navItemHandler,\n                ref: addNavItems,\n                className: \"navbar__item\",\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/contact\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: f({\n                      id: 'contact'\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                onClick: navItemHandler,\n                ref: addNavItems,\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/search\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: f({\n                      id: 'search'\n                    })\n                  })\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"top__header-right\",\n              children: !props.entry.isLoged ? /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(Link, {\n                    href: \"/register\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      children: f({\n                        id: 'signup'\n                      })\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(Link, {\n                    href: \"/login\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: \"text__decoration\",\n                      children: /*#__PURE__*/_jsx(Button, {\n                        style: {\n                          padding: '10px'\n                        },\n                        label: f({\n                          id: 'signin'\n                        }),\n                        startElement: /*#__PURE__*/_jsx(\"img\", {\n                          className: \"mr-xs\",\n                          src: '/assets/icons/user.svg'\n                        })\n                      })\n                    })\n                  })\n                })]\n              }) : /*#__PURE__*/_jsxs(\"li\", {\n                className: \"profile-container\",\n                style: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxs(\"span\", {\n                  className: \"mr-xs\",\n                  children: [props.entry.user.user.firstname, \"\\xA0\", props.entry.user.user.lastname]\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      onClick: hovermenuToggle,\n                      className: \"profile-img\",\n                      src: \"https://cdn3.iconfinder.com/data/icons/avatars-add-on-pack-1/48/v-06-512.png\"\n                    })\n                  })\n                }), isHoverMenu && /*#__PURE__*/_jsx(\"div\", {\n                  className: \"profile-dropdown\",\n                  children: /*#__PURE__*/_jsx(Hovermenu, {\n                    setOpen: hovermenuToggle,\n                    logout: props.LogOut\n                  })\n                })]\n              })\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsx(Page, {\n        children: /*#__PURE__*/_jsxs(\"nav\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxs(\"ul\", {\n            className: \"navbar\",\n            children: [/*#__PURE__*/_jsx(\"li\", {\n              onClick: navItemHandler,\n              ref: addNavItems,\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsx(Image, {\n                    src: '/assets/icons/166ye.svg',\n                    width: 149,\n                    height: 55\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              onClick: navItemHandler,\n              ref: addNavItems,\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/about\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'about'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              onClick: navItemHandler,\n              ref: addNavItems,\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/example-shop\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'examples'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              onClick: navItemHandler,\n              ref: addNavItems,\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/tarif\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'tariff'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              onClick: navItemHandler,\n              ref: addNavItems,\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/blog\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'blog'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item dies\",\n              children: /*#__PURE__*/_jsx(\"select\", {\n                className: \"navbar__item_lang\",\n                value: locale,\n                onChange: handleLocaleChange,\n                children: locales.map(function (locale) {\n                  return /*#__PURE__*/_jsx(\"option\", {\n                    value: locale,\n                    children: locale\n                  }, locale);\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            children: [/*#__PURE__*/_jsx(Image, {\n              src: '/assets/icons/call.svg',\n              width: 28,\n              height: 28\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"call\",\n              children: \"*0166\"\n            })]\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"header\", {\n      className: \"mobile-header\",\n      children: /*#__PURE__*/_jsx(Page, {\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"nav flex\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            ref: node,\n            children: [/*#__PURE__*/_jsx(Burger, {\n              open: open,\n              setOpen: setOpen\n            }), /*#__PURE__*/_jsx(MenuMobile, {\n              open: open,\n              setOpen: setOpen\n            })]\n          }), /*#__PURE__*/_jsx(\"figure\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                  src: '/assets/icons/logomob.svg',\n                  style: {\n                    cursor: 'pointer'\n                  }\n                })]\n              })\n            })\n          }), !props.entry.isLoged ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsxs(\"figure\", {\n              className: \"user__menu\",\n              onClick: togglePopup,\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                style: {\n                  width: '27px'\n                },\n                src: '/assets/icons/icc.svg'\n              }), /*#__PURE__*/_jsxs(\"ul\", {\n                className: \"log-register\",\n                children: [/*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsx(Link, {\n                  href: \"/login\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"li\", {\n                      children: f({\n                        id: 'login'\n                      })\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsx(Link, {\n                  href: \"/register\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"li\", {\n                      children: f({\n                        id: 'signup'\n                      })\n                    })\n                  })\n                })]\n              })]\n            })\n          }) : /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsxs(\"figure\", {\n              className: \"user__menu\",\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                style: {\n                  width: '27px'\n                },\n                onClick: hovermenuToggle,\n                src: '/assets/icons/icc.svg'\n              }), isHoverMenu && /*#__PURE__*/_jsx(\"div\", {\n                className: \"profile-dropdown\",\n                children: /*#__PURE__*/_jsx(Hovermenu, {\n                  setOpen: hovermenuToggle,\n                  logout: props.LogOut\n                })\n              })]\n            })\n          })]\n        })\n      })\n    })]\n  });\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    entry: state.entry\n  };\n};\n\nvar mapDispatchToProps = {\n  Login: Login,\n  LogOut: LogOut\n};\nexport default connect(mapStateToProps, mapDispatchToProps)( /*#__PURE__*/memo(Navbar));","map":null,"metadata":{},"sourceType":"module"}