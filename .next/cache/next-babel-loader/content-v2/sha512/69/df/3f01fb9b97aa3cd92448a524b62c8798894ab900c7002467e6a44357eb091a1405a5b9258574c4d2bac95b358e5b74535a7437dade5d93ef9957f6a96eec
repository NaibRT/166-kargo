{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport axios from 'axios';\nimport Link from 'next/link';\nimport React, { memo, useLayoutEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport router, { useRouter } from 'next/router';\nimport AsideMenu from '../components/aside-menu';\nimport Aside from '../components/aside/aside';\nimport ButtonComponent from '../components/button';\nimport Card from '../components/card/card';\nimport FromGroup from '../components/form-group/form-group';\nimport Input from '../components/input/input';\nimport Main from '../components/main/main';\nimport Page from '../components/page/page';\nimport Redirect from \"../components/redirect/redirect\";\nimport Tabel from '../components/tabel/tabel';\nimport { useIntl } from 'react-intl';\n\nfunction CourierOrder(props) {\n  if (!props.entry.isLoged) {\n    return /*#__PURE__*/_jsx(Redirect, {});\n  }\n\n  const {\n    formatMessage: f\n  } = useIntl();\n  const dataHead = [f({\n    id: 'tracking'\n  }), f({\n    id: 'shop'\n  }), f({\n    id: 'category'\n  }), f({\n    id: 'amount'\n  }), f({\n    id: 'weight'\n  }), f({\n    id: 'delivery'\n  })];\n  const {\n    0: state,\n    1: setState\n  } = useState({\n    orderHistory: [],\n    paidBatches: []\n  });\n  const {\n    locale\n  } = useRouter();\n  useLayoutEffect(() => {\n    Promise.all([axios.get(`${process.env.NEXT_PUBLIC_API_URL}kuryers?lan=${locale}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${props.entry.user.accessToken}`\n      }\n    }), axios.get(`${process.env.NEXT_PUBLIC_API_URL}batches/paid?lan=${locale}`, {\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${props.entry.user.accessToken}`\n      }\n    })]).then(res => {\n      setState({\n        orderHistory: res[0].data,\n        paidBatches: res[1].data\n      });\n    }).catch(err => console.log(err));\n  }, []);\n  return /*#__PURE__*/_jsxs(Page, {\n    className: \"bg-bg pt-lg pb-lg\",\n    children: [/*#__PURE__*/_jsx(Aside, {\n      children: /*#__PURE__*/_jsx(AsideMenu, {})\n    }), /*#__PURE__*/_jsxs(Main, {\n      className: \"bg-bg\",\n      children: [/*#__PURE__*/_jsx(Card, {\n        className: \"p-sm bg-white coruier__cards br-lg\",\n        children: /*#__PURE__*/_jsxs(\"form\", {\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            text: f({\n              id: 'courier-order'\n            })\n          }), /*#__PURE__*/_jsxs(Card.Body, {\n            className: \"p-none\",\n            children: [/*#__PURE__*/_jsx(\"p\", {\n              className: \"mb-lg\",\n              children: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\"\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'choose-dist'\n                }),\n                className: \"w-50 pr-lg mb-sm\",\n                bodyClass: \"bg-bg\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\"\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'choose-date'\n                }),\n                className: \"w-50 pr-lg mb-sm\",\n                bodyClass: \"bg-bg\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"date\"\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'correct-addres'\n                }),\n                className: \"w-50 pr-lg mb-sm\",\n                bodyClass: \"bg-bg\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\"\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'enter-number'\n                }),\n                className: \"w-50 pr-lg mb-sm\",\n                bodyClass: \"bg-bg\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"tel\"\n                })\n              })]\n            }), /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              children: /*#__PURE__*/_jsx(\"a\", {\n                style: {\n                  color: 'darkblue',\n                  textDecoration: 'underline'\n                },\n                children: f({\n                  id: 'definemap'\n                })\n              })\n            })]\n          }), /*#__PURE__*/_jsx(Card.Footer, {\n            style: {\n              justifyContent: 'flex-end'\n            },\n            children: /*#__PURE__*/_jsx(ButtonComponent, {\n              type: \"submit\",\n              className: \"w-25\",\n              label: f({\n                id: 'makeorder'\n              })\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsxs(Card, {\n        className: \"p-sm bg-white coruier__cards br-lg\",\n        children: [/*#__PURE__*/_jsx(Card.Header, {\n          text: /*#__PURE__*/_jsx(\"small\", {\n            style: {\n              fontSize: 'small'\n            },\n            children: f({\n              id: 'payed-packages'\n            })\n          })\n        }), /*#__PURE__*/_jsx(Card.Body, {\n          className: \"p-none table__scroll\",\n          children: /*#__PURE__*/_jsx(Tabel, {\n            th: dataHead,\n            data: state.paidBatches.map(x => ({\n              track_number: x.track_number,\n              shop: x.shop,\n              category: x.category,\n              price: x.price,\n              weight: x.weight,\n              delivery_price: x.delivery_price\n            })),\n            renderBody: (x, i) => {\n              return /*#__PURE__*/_jsx(\"td\", {\n                children: x\n              }, i);\n            }\n          })\n        })]\n      }), /*#__PURE__*/_jsx(Card.Footer, {\n        className: \"footer__courier\",\n        children: /*#__PURE__*/_jsx(ButtonComponent, {\n          className: \"w-25\",\n          label: \"Sifari\\u015F ver\"\n        })\n      }), /*#__PURE__*/_jsxs(Card, {\n        className: \"p-sm bg-white mt-sm coruier__cards br-lg\",\n        children: [/*#__PURE__*/_jsx(Card.Header, {\n          text: f({\n            id: 'order-history'\n          })\n        }), /*#__PURE__*/_jsx(Card.Body, {\n          className: \"p-none\",\n          children: /*#__PURE__*/_jsxs(\"div\", {\n            className: \"orders-container\",\n            children: [/*#__PURE__*/_jsx(\"div\", {\n              className: \"orders-container-head\"\n            }), state.orderHistory.map(item => /*#__PURE__*/_jsxs(\"details\", {\n              className: \"orders-item-details\",\n              children: [/*#__PURE__*/_jsx(\"summary\", {\n                className: \"order-item-summary\",\n                children: /*#__PURE__*/_jsxs(\"div\", {\n                  className: \"order-item-summary-head\",\n                  children: [/*#__PURE__*/_jsx(\"span\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: \"No \"\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: f({\n                      id: 'date'\n                    })\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: f({\n                      id: 'count'\n                    })\n                  }), /*#__PURE__*/_jsx(\"span\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: f({\n                      id: 'status'\n                    })\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Tabel, {\n                thClassName: \"bg-white\",\n                data: [item],\n                renderBody: (x, i) => {\n                  if (!i == 0) {\n                    return /*#__PURE__*/_jsx(\"td\", {\n                      style: {\n                        textAlign: 'center'\n                      },\n                      children: /*#__PURE__*/_jsx(\"span\", {\n                        children: x\n                      })\n                    }, i++);\n                  }\n                }\n              })]\n            }, item.id))]\n          })\n        })]\n      })]\n    })]\n  });\n}\n\nconst mapStateToProps = state => ({\n  entry: state.entry\n});\n\nexport default connect(mapStateToProps)( /*#__PURE__*/memo(CourierOrder));","map":null,"metadata":{},"sourceType":"module"}