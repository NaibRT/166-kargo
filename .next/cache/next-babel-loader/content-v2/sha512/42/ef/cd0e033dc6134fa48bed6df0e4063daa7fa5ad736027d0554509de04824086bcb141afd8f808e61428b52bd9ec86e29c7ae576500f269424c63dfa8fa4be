{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Image from 'next/image';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport React, { memo, useEffect, useRef, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useIntl } from 'react-intl';\nimport { connect } from \"react-redux\";\nimport { LogOut } from \"../../redux/entry/entryActions\";\nimport { default as Button, default as ButtonComponent } from '../button';\nimport Card from '../card/card';\nimport Divider from \"../divider/divider\";\nimport Modal from '../modal-form/modal';\nimport Page from '../page/page';\nimport Burger from './burger';\nimport Hovermenu from './hovermenu';\nimport MenuMobile from './menu-mobile';\n\nconst useOnClickOutside = (ref, handler) => {\n  useEffect(() => {\n    const listener = event => {\n      if (!ref.current || ref.current.contains(event.target)) return;\n      handler(event);\n    };\n\n    document.addEventListener(\"mousedown\", listener);\n    return () => {\n      document.removeEventListener(\"mousedown\", listener);\n    };\n  }, [ref, handler]);\n};\n\nconst Navbar = props => {\n  var _errors$email, _errors$password;\n\n  const {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const node = useRef();\n  useOnClickOutside(node, () => setOpen(false));\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const submit = data => {\n    props.Login('auth/login', JSON.stringify(data), {\n      'content-type': 'application/json'\n    });\n  };\n\n  const {\n    locale,\n    locales,\n    basePath,\n    asPath\n  } = useRouter();\n  const router = useRouter();\n  const {\n    formatMessage: f\n  } = useIntl();\n\n  const handleLocaleChange = e => {\n    const locale = e.target.value;\n    router.push(`${asPath}`, `${asPath}`, {\n      locale\n    });\n  };\n\n  const {\n    register,\n    handleSubmit,\n    errors\n  } = useForm();\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsxs(\"header\", {\n      className: \"header deskmenu\",\n      children: [/*#__PURE__*/_jsx(\"div\", {\n        className: \"bg\",\n        children: /*#__PURE__*/_jsx(Page, {\n          children: /*#__PURE__*/_jsxs(\"nav\", {\n            className: \"top__header\",\n            children: [/*#__PURE__*/_jsxs(\"ul\", {\n              className: \"top__header-left\",\n              children: [/*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/faq\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: f({\n                      id: 'faq'\n                    })\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/search\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"Ba\\u011Flamam hardad\\u0131r?\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/carryconditions\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"Da\\u015F\\u0131nma \\u015F\\u0259rtl\\u0259ri\"\n                  })\n                })\n              }), /*#__PURE__*/_jsx(\"li\", {\n                children: /*#__PURE__*/_jsx(Link, {\n                  href: \"/orderscondition\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: \"\\u0130stifad\\u0259\\xE7i \\u015F\\u0259rtl\\u0259ri\"\n                  })\n                })\n              })]\n            }), /*#__PURE__*/_jsx(\"ul\", {\n              className: \"top__header-right\",\n              children: !props.entry.isLoged ? /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(Link, {\n                    href: \"/register\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      children: f({\n                        id: 'signup'\n                      })\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"li\", {\n                  children: /*#__PURE__*/_jsx(Link, {\n                    href: \"/\",\n                    children: /*#__PURE__*/_jsx(\"a\", {\n                      className: \"text__decoration\",\n                      children: /*#__PURE__*/_jsx(Button, {\n                        style: {\n                          padding: '10px'\n                        },\n                        label: f({\n                          id: 'signin'\n                        }),\n                        startElement: /*#__PURE__*/_jsx(\"img\", {\n                          className: \"mr-xs\",\n                          src: '/assets/icons/user.svg'\n                        })\n                      })\n                    })\n                  })\n                })]\n              }) : /*#__PURE__*/_jsxs(\"li\", {\n                className: \"profile-container\",\n                style: {\n                  display: 'flex',\n                  alignItems: 'center'\n                },\n                children: [/*#__PURE__*/_jsxs(\"span\", {\n                  className: \"mr-xs\",\n                  children: [props.entry.user.user.firstname, props.entry.user.user.lastname]\n                }), /*#__PURE__*/_jsx(Link, {\n                  href: \"\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"img\", {\n                      className: \"profile-img\",\n                      src: \"https://cdn3.iconfinder.com/data/icons/avatars-add-on-pack-1/48/v-06-512.png\"\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(\"div\", {\n                  className: \"profile-dropdown\",\n                  children: /*#__PURE__*/_jsx(Hovermenu, {})\n                })]\n              })\n            })]\n          })\n        })\n      }), /*#__PURE__*/_jsx(Page, {\n        children: /*#__PURE__*/_jsxs(\"nav\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxs(\"ul\", {\n            className: \"navbar\",\n            children: [/*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsx(Image, {\n                    src: '/assets/icons/166ye.svg',\n                    width: 149,\n                    height: 55\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/about\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'about'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/tarif\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'tariff'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/example-shop\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'examples'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/blog\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'blog'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item\",\n              children: /*#__PURE__*/_jsx(Link, {\n                href: \"/contact\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'contact'\n                  })\n                })\n              })\n            }), /*#__PURE__*/_jsx(\"li\", {\n              className: \"navbar__item dies\",\n              children: /*#__PURE__*/_jsx(\"select\", {\n                className: \"navbar__item_lang\",\n                value: locale,\n                onChange: handleLocaleChange,\n                children: locales.map(locale => /*#__PURE__*/_jsx(\"option\", {\n                  value: locale,\n                  children: locale\n                }, locale))\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"span\", {\n            children: [/*#__PURE__*/_jsx(Image, {\n              src: '/assets/icons/call.svg',\n              width: 28,\n              height: 28\n            }), /*#__PURE__*/_jsx(\"span\", {\n              className: \"call\",\n              children: \"*0166\"\n            })]\n          })]\n        })\n      })]\n    }), /*#__PURE__*/_jsx(\"header\", {\n      className: \"mobile-header\",\n      children: /*#__PURE__*/_jsx(Page, {\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"nav flex\",\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            ref: node,\n            children: [/*#__PURE__*/_jsx(Burger, {\n              open: open,\n              setOpen: setOpen\n            }), /*#__PURE__*/_jsx(MenuMobile, {\n              open: open,\n              setOpen: setOpen\n            })]\n          }), /*#__PURE__*/_jsx(\"figure\", {\n            children: /*#__PURE__*/_jsx(Link, {\n              href: \"/\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                  src: '/assets/icons/logomob.svg',\n                  style: {\n                    cursor: 'pointer'\n                  }\n                })]\n              })\n            })\n          }), !props.entry.isLoged ? /*#__PURE__*/_jsx(_Fragment, {\n            children: /*#__PURE__*/_jsxs(\"figure\", {\n              className: \"user__menu\",\n              onClick: togglePopup,\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                style: {\n                  width: '20px'\n                },\n                src: '/assets/icons/useri.svg'\n              }), /*#__PURE__*/_jsx(\"small\", {\n                children: \"Hesab\\u0131m\"\n              }), /*#__PURE__*/_jsxs(\"ul\", {\n                className: \"log-register\",\n                children: [/*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsx(Link, {\n                  href: \"/login\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"li\", {\n                      children: f({\n                        id: 'login'\n                      })\n                    })\n                  })\n                }), /*#__PURE__*/_jsx(Divider, {}), /*#__PURE__*/_jsx(Link, {\n                  href: \"/register\",\n                  children: /*#__PURE__*/_jsx(\"a\", {\n                    children: /*#__PURE__*/_jsx(\"li\", {\n                      children: f({\n                        id: 'signup'\n                      })\n                    })\n                  })\n                })]\n              })]\n            })\n          }) : /*#__PURE__*/_jsxs(_Fragment, {\n            children: [isOpen && /*#__PURE__*/_jsx(Modal, {\n              content: /*#__PURE__*/_jsx(_Fragment, {\n                children: /*#__PURE__*/_jsxs(Card, {\n                  className: \"login-card bg-white p-sm br-lg\",\n                  children: [/*#__PURE__*/_jsx(Card.Header, {\n                    text: \"\\u0130stifad\\u0259\\xE7i giri\\u015Fi\"\n                  }), /*#__PURE__*/_jsx(Card.Body, {\n                    className: \"p-none\",\n                    children: /*#__PURE__*/_jsxs(\"form\", {\n                      className: \"login-form\",\n                      onSubmit: handleSubmit(submit),\n                      children: [/*#__PURE__*/_jsx(FromGroup, {\n                        label: \"E-mail\",\n                        bodyClass: \"bg-bg w-100\",\n                        error: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message,\n                        children: /*#__PURE__*/_jsx(Input, {\n                          Ref: register({\n                            required: {\n                              value: true,\n                              message: 'email is not valid'\n                            } //  pattern:/^[a-zA-Z0-9.!#$%&'+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)$/\n\n                          }),\n                          type: \"email\",\n                          name: \"email\"\n                        })\n                      }), /*#__PURE__*/_jsx(FromGroup, {\n                        label: \"Sifre\",\n                        bodyClass: \"bg-bg w-100\",\n                        error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n                        children: /*#__PURE__*/_jsx(Input, {\n                          Ref: register({\n                            required: {\n                              value: true,\n                              message: 'password is not valid'\n                            } // pattern:/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/\n\n                          }),\n                          type: \"password\",\n                          name: \"password\"\n                        })\n                      }), /*#__PURE__*/_jsx(ButtonComponent, {\n                        type: \"submit\",\n                        className: \"w-100 mt-xs\",\n                        label: \"Daxil ol\"\n                      })]\n                    })\n                  })]\n                })\n              }),\n              handleClose: togglePopup\n            }), /*#__PURE__*/_jsxs(\"figure\", {\n              className: \"user__menu\",\n              children: [/*#__PURE__*/_jsx(\"img\", {\n                src: '/assets/icons/useri.svg'\n              }), /*#__PURE__*/_jsx(\"div\", {\n                className: \"profile-dropdown\",\n                children: /*#__PURE__*/_jsx(Hovermenu, {})\n              })]\n            })]\n          })]\n        })\n      })\n    })]\n  });\n};\n\nconst mapStateToProps = state => ({\n  entry: state.entry\n});\n\nconst mapDispatchToProps = {\n  LogOut\n};\nexport default connect(mapStateToProps, mapDispatchToProps)( /*#__PURE__*/memo(Navbar));","map":null,"metadata":{},"sourceType":"module"}