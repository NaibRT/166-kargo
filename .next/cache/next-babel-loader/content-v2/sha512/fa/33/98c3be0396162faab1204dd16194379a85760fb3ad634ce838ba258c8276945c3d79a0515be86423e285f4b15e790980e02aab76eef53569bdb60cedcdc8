{"ast":null,"code":"import _regeneratorRuntime from \"/Users/naibtahmazli/Documents/166kargo/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/naibtahmazli/Documents/166kargo/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nimport router from \"next/router\";\nimport Swal from \"sweetalert2\";\nimport { IncreaseBalance, login, logout, PayByBalance, register, updateUser } from \"./actions\";\nexport var Login = function Login(url, data) {\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return function (dispatch) {\n    axios.post(\"\".concat(process.env.NEXT_PUBLIC_API_URL).concat(url), data, {\n      headers: headers\n    }).then( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(res) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return res.data;\n\n              case 2:\n                data = _context.sent;\n                dispatch(login(data));\n                router.push('/packages');\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }())[\"catch\"](function (errors) {\n      dispatch(login({\n        isError: true,\n        errors: errors.response.data\n      }));\n    });\n  };\n};\nexport var UserRegister = function UserRegister(url, data) {\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return function (dispatch) {\n    axios.post(\"\".concat(process.env.NEXT_PUBLIC_API_URL).concat(url), data, {\n      headers: headers\n    }).then( /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(res) {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                Swal.fire({\n                  text: 'Əməliyyat uğurla tamamlandı',\n                  icon: 'success',\n                  confirmButtonText: 'OK'\n                }).then(function (res) {\n                  if (res.isConfirmed) {\n                    router.push('/myaddresses');\n                  }\n                });\n                _context2.next = 3;\n                return res.data;\n\n              case 3:\n                data = _context2.sent;\n                dispatch(register(data));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x2) {\n        return _ref2.apply(this, arguments);\n      };\n    }())[\"catch\"](function (err) {\n      dispatch(register({\n        isError: true,\n        errors: err.response.data\n      }));\n    });\n  };\n};\nexport var LogOut = function LogOut() {\n  return function (dispatch) {\n    console.log('wordek logout');\n    dispatch(logout());\n  };\n};\nexport var UpdateUser = function UpdateUser(url, data) {\n  var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  return function (dispatch) {\n    axios.put(\"\".concat(process.env.NEXT_PUBLIC_API_URL).concat(url), data, {\n      headers: headers\n    }).then(function (res) {\n      dispatch(updateUser(res.data));\n      Swal.fire({\n        text: 'Əməliyyat uğurla yerinə yetirildi',\n        icon: 'success',\n        confirmButtonText: 'OK'\n      });\n    })[\"catch\"](function (err) {\n      dispatch(updateUser({\n        isError: true,\n        errors: err.response.data\n      }));\n    });\n  };\n};\nexport var PayByBalanceAction = function PayByBalanceAction(url, data, headers) {\n  return function (dispatch) {\n    axios.post(\"\".concat(process.env.NEXT_PUBLIC_API_URL).concat(url), data, {\n      headers: headers\n    }).then(function (res) {\n      if (res.status == 'success') {\n        Swal.fire({\n          text: res.data.message,\n          icon: 'success',\n          confirmButtonText: 'OK'\n        });\n        dispatch(PayByBalance(data.balance));\n      }\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n};\nexport var IncreaseBalanceAction = function IncreaseBalanceAction(balance) {\n  return function (dispatch) {\n    dispatch(IncreaseBalance(balance));\n  };\n};","map":{"version":3,"sources":["/Users/naibtahmazli/Documents/166kargo/redux/entry/entryActions.js"],"names":["axios","router","Swal","IncreaseBalance","login","logout","PayByBalance","register","updateUser","Login","url","data","headers","dispatch","post","process","env","NEXT_PUBLIC_API_URL","then","res","push","errors","isError","response","UserRegister","fire","text","icon","confirmButtonText","isConfirmed","err","LogOut","console","log","UpdateUser","put","PayByBalanceAction","status","message","balance","IncreaseBalanceAction"],"mappings":"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","sourcesContent":["\nimport axios from \"axios\";\nimport router from \"next/router\";\nimport Swal from \"sweetalert2\";\nimport { IncreaseBalance, login, logout, PayByBalance, register, updateUser } from \"./actions\";\n\nexport const Login = (url,data,headers = {}) => dispatch => {\n    axios.post(`${process.env.NEXT_PUBLIC_API_URL}${url}`,data,{\n        headers:headers,\n      })\n      .then(async res => {\n        let data = await res.data;\n        dispatch(login(data))\n        router.push('/packages')\n      }).catch(errors => {\n        dispatch(login({isError:true,errors:errors.response.data}))\n      })\n}\n\n\nexport const UserRegister = (url,data,headers = {}) => dispatch => {\n  axios.post(`${process.env.NEXT_PUBLIC_API_URL}${url}`,data,{\n      headers:headers,\n    })\n    .then(async res => {\n      Swal.fire({\n        text: 'Əməliyyat uğurla tamamlandı',\n        icon: 'success',\n        confirmButtonText: 'OK',\n      }).then(res => {\n        if(res.isConfirmed){\n          router.push('/myaddresses');\n        }\n      })\n      let data = await res.data;\n      dispatch(register(data))\n    }).catch(err => {\n      dispatch(register({isError:true,errors:err.response.data}))\n    })\n}\n\nexport const LogOut = () => dispatch => {\n   console.log('wordek logout')\n    dispatch(logout())\n}\n\nexport const UpdateUser = (url,data,headers = {}) => dispatch => {\n\n    axios.put(`${process.env.NEXT_PUBLIC_API_URL}${url}`,data,{\n        headers: headers\n      })\n      .then( res => {\n        dispatch(updateUser(res.data))\n         Swal.fire({\n           text: 'Əməliyyat uğurla yerinə yetirildi',\n           icon: 'success',\n           confirmButtonText: 'OK',\n         })\n      })\n      .catch(err => {\n        dispatch(updateUser({isError:true,errors:err.response.data}))\n      })\n  \n}\n\n  export const PayByBalanceAction = (url,data,headers) => dispatch => {\n    axios.post(`${process.env.NEXT_PUBLIC_API_URL}${url}`,data,{\n      headers:headers,\n    }).then(res => {\n      if(res.status == 'success'){ \n        Swal.fire({\n          text: res.data.message,\n          icon: 'success',\n          confirmButtonText: 'OK',\n        });\n        dispatch(PayByBalance(data.balance))\n      }\n    }).catch(err => console.log(err));\n  }\n\nexport const IncreaseBalanceAction = (balance) => dispatch => {\n    dispatch(IncreaseBalance(balance))\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}