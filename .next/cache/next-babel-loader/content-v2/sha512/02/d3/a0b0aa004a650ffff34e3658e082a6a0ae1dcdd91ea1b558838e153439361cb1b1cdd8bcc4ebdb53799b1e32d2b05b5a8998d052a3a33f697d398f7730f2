{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport axios from 'axios';\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport { memo, useEffect, useState } from \"react\";\nimport { useForm } from 'react-hook-form';\nimport { useIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport Swal from \"sweetalert2\";\nimport ButtonComponent from '../components/button';\nimport Card from '../components/card/card';\nimport FromGroup from '../components/form-group/form-group';\nimport Input from '../components/input/input';\nimport MainSlider from \"../components/main-slider/main-slider\";\nimport NewsItem from '../components/news_item/news-item';\nimport Page from '../components/page/page';\nimport MobileRate from '../components/rate/m-rate';\nimport Rate from '../components/rate/rate';\nimport Selectbox from \"../components/selectbox/selectbox\";\nimport Switch from '../components/switch/switch';\nimport { Login } from '../redux/entry/entryActions';\nimport { GetSettings } from '../redux/settings/settingsActions';\nconst data = [{\n  min: 0,\n  max: 0.25,\n  amount: 1.66\n}, {\n  min: 0.25,\n  max: 0.50,\n  amount: 3.00\n}, {\n  min: 0.50,\n  max: 0.70,\n  amount: 4.00\n}, {\n  min: 0.70,\n  max: 1.00,\n  amount: 4.50\n}];\n\nfunction Home(props) {\n  var _errors$email, _errors$password;\n\n  const {\n    formatMessage: f\n  } = useIntl();\n  const {\n    register,\n    handleSubmit,\n    errors,\n    clearErrors,\n    setError\n  } = useForm();\n  const {\n    route\n  } = useRouter();\n  const {\n    0: calculator,\n    1: setCalculator\n  } = useState({\n    weight: '',\n    height: '',\n    length: '',\n    width: '',\n    isliquid: false,\n    country: 'TÜRKİYƏ',\n    total: 0.00\n  });\n\n  const calculatorInputHandler = ev => {\n    let {\n      name,\n      value\n    } = ev.target;\n    setCalculator(_objectSpread(_objectSpread({}, calculator), {}, {\n      [name]: value\n    }));\n  };\n\n  const calculatePrize = () => {\n    let total;\n    let datas = props.tariffs.filter(x => x.country.toUpperCase() == calculator.country.toUpperCase() && x.is_liquid == calculator.isliquid && x.weight_min <= parseFloat(calculator.weight) && x.weight_max >= parseFloat(calculator.weight));\n\n    if (datas.length > 0) {\n      if (calculator.height >= 80 || calculator.length >= 80 || calculator.width >= 80 && calculator.weight < 1) {\n        total = calculator.width * calculator.height * calculator.length / 6000 * datas[0].price;\n      } else {\n        total = calculator.weight * datas[0].price;\n      }\n\n      setCalculator(_objectSpread(_objectSpread({}, calculator), {}, {\n        total: total\n      }));\n    } else {\n      Swal.fire({\n        text: 'Secilen deyerlere uygun tarif tapilmadi'\n      });\n    }\n  };\n\n  useEffect(() => {}, [props.Entry.isLoged]);\n  useEffect(() => {\n    props.GetSettings('settings');\n    clearErrors();\n\n    for (let key in props.Entry.errorMessages.errors) {\n      setError(key, {\n        message: props.Entry.errorMessages.errors[key].join('\\n')\n      });\n    }\n\n    ;\n  }, [props.Entry.errorMessages]);\n\n  const submit = data => {\n    clearErrors();\n    props.Login('auth/login', JSON.stringify(data), {\n      'content-type': 'application/json'\n    });\n  };\n\n  return /*#__PURE__*/_jsxs(\"main\", {\n    className: \"home-page\",\n    children: [/*#__PURE__*/_jsx(\"section\", {\n      className: \"main-section bg-bg mb-sm\",\n      children: /*#__PURE__*/_jsxs(\"div\", {\n        className: \" container-fluid pt-sm pb-sm\",\n        style: {\n          display: 'flex'\n        },\n        children: [/*#__PURE__*/_jsx(\"div\", {\n          className: `slider-container pr-sm ${props.Entry.isLoged && 'w-100'}`,\n          children: /*#__PURE__*/_jsx(MainSlider, {})\n        }), !props.Entry.isLoged && /*#__PURE__*/_jsxs(Card, {\n          className: \"login-card bg-white p-sm\",\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            style: {\n              display: 'flex',\n              justifyContent: 'center'\n            },\n            text: f({\n              id: 'signin'\n            })\n          }), /*#__PURE__*/_jsxs(Card.Body, {\n            className: \"p-none\",\n            children: [/*#__PURE__*/_jsxs(\"form\", {\n              className: \"login-form\",\n              onSubmit: handleSubmit(submit),\n              children: [/*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'email'\n                }),\n                bodyClass: \"bg-bg w-100\",\n                error: (_errors$email = errors.email) === null || _errors$email === void 0 ? void 0 : _errors$email.message,\n                className: \"mb-sm\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  Ref: register({\n                    required: {\n                      value: true,\n                      message: f({\n                        id: 'emailerror'\n                      })\n                    } //  pattern:/^[a-zA-Z0-9.!#$%&'+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)$/\n\n                  }),\n                  type: \"email\",\n                  name: \"email\"\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                label: f({\n                  id: 'password'\n                }),\n                bodyClass: \"bg-bg w-100\",\n                error: (_errors$password = errors.password) === null || _errors$password === void 0 ? void 0 : _errors$password.message,\n                className: \"mb-lg\",\n                children: /*#__PURE__*/_jsx(Input, {\n                  Ref: register({\n                    required: {\n                      value: true,\n                      message: f({\n                        id: 'pass-requir'\n                      })\n                    } // pattern:/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,}$/\n\n                  }),\n                  type: \"password\",\n                  name: \"password\"\n                })\n              }), /*#__PURE__*/_jsx(ButtonComponent, {\n                type: \"submit\",\n                className: \"w-100 mt-xs mb-sm\",\n                label: f({\n                  id: 'login'\n                })\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"mt-xs\",\n              children: [/*#__PURE__*/_jsx(Link, {\n                href: \"/forgetPass\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: f({\n                    id: 'no-account'\n                  })\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"/register\",\n                children: /*#__PURE__*/_jsx(\"a\", {\n                  children: /*#__PURE__*/_jsx(\"span\", {\n                    className: \"color-yellow\",\n                    style: {\n                      cursor: 'pointer'\n                    },\n                    children: f({\n                      id: 'signup'\n                    })\n                  })\n                })\n              })]\n            })]\n          })]\n        })]\n      })\n    }), /*#__PURE__*/_jsxs(Page, {\n      children: [/*#__PURE__*/_jsxs(\"section\", {\n        className: \"tariff-section\",\n        children: [/*#__PURE__*/_jsxs(Card, {\n          className: \"mr-sm sm-mob\",\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            text: f({\n              id: 'tariffs'\n            })\n          }), /*#__PURE__*/_jsxs(Card.Body, {\n            className: \"bg-bg p-sm br-sm\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"bg-bg rate-container\",\n              children: [/*#__PURE__*/_jsx(Rate, {\n                data: props.tariffs.filter(x => x.country_id === 15 && x.is_liquid === 0).splice(0, 4),\n                icon: '/assets/icons/15.svg',\n                headerText: f({\n                  id: 'turkey'\n                })\n              }), /*#__PURE__*/_jsx(Rate, {\n                data: props.tariffs.filter(x => x.country_id === 15 && x.is_liquid === 1).splice(0, 4),\n                icon: '/assets/icons/15.svg',\n                headerText: f({\n                  id: 'isluqidturkey'\n                })\n              }), /*#__PURE__*/_jsx(Rate, {\n                data: props.tariffs.filter(x => x.country_id === 16 && x.is_liquid === 0).splice(0, 4),\n                icon: '/assets/icons/16.svg',\n                headerText: f({\n                  id: 'usa'\n                }),\n                style: {\n                  marginRight: 0\n                }\n              })]\n            }), /*#__PURE__*/_jsx(MobileRate, {\n              data: data,\n              text: f({\n                id: 'weight'\n              })\n            })]\n          })]\n        }), /*#__PURE__*/_jsxs(Card, {\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            text: f({\n              id: 'calculator'\n            })\n          }), /*#__PURE__*/_jsxs(Card.Body, {\n            className: \"bg-bg p-sm br-sm\",\n            children: [/*#__PURE__*/_jsxs(\"form\", {\n              className: \"calculator-form\",\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap'\n              },\n              children: [/*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \"bg-white \",\n                label: f({\n                  id: 'choosectry'\n                }),\n                children: /*#__PURE__*/_jsx(Selectbox, {\n                  className: \"w-100 m-none\",\n                  data: [{\n                    id: 'TÜRKİYƏ',\n                    name: f({\n                      id: 'turkey'\n                    })\n                  }, {\n                    id: 'ABŞ',\n                    name: f({\n                      id: 'usa'\n                    })\n                  }, {\n                    id: 'Ukrayna',\n                    name: f({\n                      id: 'ukraina'\n                    })\n                  }],\n                  name: \"country\",\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.country,\n                  onChange: calculatorInputHandler\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \" \",\n                label: f({\n                  id: 'liquid'\n                }),\n                children: /*#__PURE__*/_jsx(Switch, {\n                  name: \"isliquid\",\n                  onClick: e => {\n                    e.target.checked ? setCalculator(_objectSpread(_objectSpread({}, calculator), {}, {\n                      [e.target.name]: true\n                    })) : setCalculator(_objectSpread(_objectSpread({}, calculator), {}, {\n                      [e.target.name]: false\n                    }));\n                  },\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.isliquid\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \"bg-white \",\n                label: f({\n                  id: 'weight'\n                }),\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\",\n                  name: \"weight\",\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.weight,\n                  onChange: calculatorInputHandler\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \"bg-white \",\n                label: f({\n                  id: 'length'\n                }),\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\",\n                  name: \"length\",\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.length,\n                  onChange: calculatorInputHandler\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \"bg-white \",\n                label: f({\n                  id: 'width'\n                }),\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\",\n                  name: \"width\",\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.width,\n                  onChange: calculatorInputHandler\n                })\n              }), /*#__PURE__*/_jsx(FromGroup, {\n                className: \"w-50 pr-xs mb-sm\",\n                bodyClass: \"bg-white \",\n                label: f({\n                  id: 'height'\n                }),\n                children: /*#__PURE__*/_jsx(Input, {\n                  type: \"text\",\n                  name: \"height\",\n                  value: calculator === null || calculator === void 0 ? void 0 : calculator.height,\n                  onChange: calculatorInputHandler\n                })\n              })]\n            }), /*#__PURE__*/_jsx(Card.Footer, {\n              className: \"mt-xs calc-footer\",\n              children: /*#__PURE__*/_jsxs(_Fragment, {\n                children: [/*#__PURE__*/_jsxs(\"div\", {\n                  className: \"w-50 pr-xs\",\n                  style: {\n                    display: 'flex',\n                    flexDirection: 'row',\n                    justifyContent: 'space-between',\n                    alignItems: 'center'\n                  },\n                  children: [/*#__PURE__*/_jsx(\"span\", {\n                    className: \"\",\n                    style: {\n                      fontSize: '16px',\n                      width: '90px'\n                    },\n                    children: f({\n                      id: 'deliveryprice'\n                    })\n                  }), /*#__PURE__*/_jsxs(\"strong\", {\n                    style: {\n                      textAlign: 'center',\n                      fontSize: 'large'\n                    },\n                    children: [calculator.total.toFixed(2), \"$\"]\n                  })]\n                }), /*#__PURE__*/_jsx(ButtonComponent, {\n                  className: \"w-50\",\n                  label: f({\n                    id: 'calc'\n                  }),\n                  onClick: calculatePrize\n                })]\n              })\n            })]\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(\"section\", {\n        className: \"howworks\",\n        children: /*#__PURE__*/_jsxs(\"div\", {\n          className: \"fluid_bottom\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"title mg__bottom\",\n            children: f({\n              id: 'howitworks'\n            })\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"work__flex--container\",\n            children: [/*#__PURE__*/_jsxs(\"div\", {\n              className: \"work__flex\",\n              children: [/*#__PURE__*/_jsx(\"figure\", {\n                className: \"background__radius\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: '/assets/icons/Frame 1 (5).svg',\n                  width: 116,\n                  height: 116\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"work__main\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__title\",\n                  children: f({\n                    id: 'gotoregister'\n                  })\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__text\",\n                  children: f({\n                    id: 'alttext1'\n                  })\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"work__flex\",\n              children: [/*#__PURE__*/_jsx(\"figure\", {\n                className: \"background__radius\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: '/assets/icons/Frame 1 (2).svg',\n                  width: 116,\n                  height: 116\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"work__main\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__title\",\n                  children: f({\n                    id: 'makeorder'\n                  })\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__text\",\n                  children: f({\n                    id: 'alttext2'\n                  })\n                })]\n              })]\n            }), /*#__PURE__*/_jsxs(\"div\", {\n              className: \"work__flex\",\n              children: [/*#__PURE__*/_jsx(\"figure\", {\n                className: \"background__radius\",\n                children: /*#__PURE__*/_jsx(\"img\", {\n                  src: '/assets/icons/Frame 1 (6).svg',\n                  width: 116,\n                  height: 116\n                })\n              }), /*#__PURE__*/_jsxs(\"div\", {\n                className: \"work__main\",\n                children: [/*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__title\",\n                  children: f({\n                    id: 'getpackage'\n                  })\n                }), /*#__PURE__*/_jsx(\"p\", {\n                  className: \"work__text\",\n                  children: f({\n                    id: 'alttext3'\n                  })\n                })]\n              })]\n            })]\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"section\", {\n        className: \"fluid_bottom\",\n        children: /*#__PURE__*/_jsxs(Card, {\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            text: f({\n              id: 'lastnews'\n            }),\n            endElelment: /*#__PURE__*/_jsx(Link, {\n              href: \"/blog\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                children: [f({\n                  id: 'seeall'\n                }), \" \\u203A\"]\n              })\n            })\n          }), /*#__PURE__*/_jsx(Card.Body, {\n            style: {\n              padding: 0,\n              display: 'flex',\n              flexWrap: 'wrap'\n            },\n            children: props.news.slice(0, 3).map((x, i, arr) => {\n              return /*#__PURE__*/_jsx(NewsItem, {\n                item: x,\n                style: i == arr.length - 1 ? {\n                  margin: 0\n                } : {}\n              }, x.id);\n            })\n          })]\n        })\n      }), /*#__PURE__*/_jsx(\"section\", {\n        className: \"fluid_bottom example-shop-section w-100\",\n        children: /*#__PURE__*/_jsxs(Card, {\n          children: [/*#__PURE__*/_jsx(Card.Header, {\n            text: f({\n              id: \"stores\"\n            }),\n            endElelment: /*#__PURE__*/_jsx(Link, {\n              href: \"/example-shop\",\n              children: /*#__PURE__*/_jsxs(\"a\", {\n                children: [f({\n                  id: 'seeall'\n                }), \" \\u203A\"]\n              })\n            })\n          }), /*#__PURE__*/_jsx(Card.Body, {\n            children: /*#__PURE__*/_jsxs(\"div\", {\n              className: \"flex__item\",\n              children: [/*#__PURE__*/_jsx(Link, {\n                href: \"https://www.trendyol.com/\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a00.svg'\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"https://www.defacto.com.tr/\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a01.svg'\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"https://www.koton.com/en/\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a02.svg'\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"https://www.zara.com/\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a03.svg'\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"https://www.gittigidiyor.com\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a04.svg'\n                  })]\n                })\n              }), /*#__PURE__*/_jsx(Link, {\n                href: \"https://www.hm.com/entrance.ahtml?orguri=%2F\",\n                children: /*#__PURE__*/_jsxs(\"a\", {\n                  target: \"_blank\",\n                  children: [\" \", /*#__PURE__*/_jsx(\"img\", {\n                    src: '/assets/images/a05.svg'\n                  })]\n                })\n              })]\n            })\n          })]\n        })\n      })]\n    })]\n  });\n}\n\nconst mapStateToProp = state => ({\n  Entry: state.entry\n});\n\nconst mapDispatchToProp = {\n  Login,\n  GetSettings\n};\nexport async function getServerSideProps({\n  locale,\n  req,\n  res\n}) {\n  let news = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}news/main?lan=${locale}`);\n  let tariffs = await axios.get(`${process.env.NEXT_PUBLIC_API_URL}tariffs?lan=${locale}`);\n  return {\n    props: {\n      news: news.data,\n      tariffs: tariffs.data\n    }\n  };\n}\nexport default connect(mapStateToProp, mapDispatchToProp)( /*#__PURE__*/memo(Home));","map":null,"metadata":{},"sourceType":"module"}