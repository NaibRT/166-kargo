_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[37],{"+NHn":function(e,t,a){"use strict";var r=a("nKUr"),n=a("cpVT"),s=a("dhJC");a("q1tI");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(n.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=e.text,a=e.name,n=e.id,i=e.value,o=e.Ref,l=Object(s.a)(e,["text","name","id","value","Ref"]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("input",c({className:"radio-btn",name:a,type:"radio",id:n,value:i,ref:o},l)),Object(r.jsx)("label",{className:"radio-btn-lbl",htmlFor:n,children:t})]})}},"3PaP":function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return i}));var r="LOGIN",n="LOGOUT",s="REGISTER",i="UPDATE_USER"},"3ca1":function(e,t,a){"use strict";var r=a("cpVT"),n=a("nKUr"),s=a("dhJC");a("q1tI");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}t.a=function(e){var t=e.className,a=e.style,c=e.type,o=e.name,l=e.Ref,u=Object(s.a)(e,["className","style","type","name","Ref"]);return Object(n.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({type:c,name:o,autoComplete:"false",ref:l,className:"input ".concat(t||""),style:a},u))}},DNwP:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"d",(function(){return x})),a.d(t,"a",(function(){return O})),a.d(t,"c",(function(){return h}));var r=a("vJKn"),n=a.n(r),s=a("rg98"),i=a("vDqi"),c=a.n(i),o=a("20a2"),l=a.n(o),u=a("PSD3"),d=a.n(u),b=a("3PaP"),m=function(e){return{type:b.a,payload:e}},p=function(e){return{type:b.c,payload:e}},j=function(e){return{type:b.d,payload:e}},f=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){c.a.post("".concat("https://166api.titr.az/api/").concat(e),t,{headers:a}).then(function(){var e=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.data;case 2:a=e.sent,r(m(a)),l.a.push("/packages");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r(m({isError:!0,errors:e.response.data}))}))}},x=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){c.a.post("".concat("https://166api.titr.az/api/").concat(e),t,{headers:a}).then(function(){var e=Object(s.a)(n.a.mark((function e(t){var a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d.a.fire({text:"\u018fm\u0259liyyat u\u011furla tamamland\u0131",icon:"success",confirmButtonText:"OK"}).then((function(e){e.isConfirmed&&l.a.push("/myaddresses")})),e.next=3,t.data;case 3:a=e.sent,r(p(a));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){r(p({isError:!0,errors:e.response.data}))}))}},O=function(){return function(e){console.log("wordek logout"),e({type:b.b})}},h=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){c.a.put("".concat("https://166api.titr.az/api/").concat(e),t,{headers:a}).then((function(e){r(j(e.data)),d.a.fire({text:"\u018fm\u0259liyyat u\u011furla yerin\u0259 yetirildi",icon:"success",confirmButtonText:"OK"})})).catch((function(e){r(j({isError:!0,errors:e.response.data}))}))}}},NQIg:function(e,t,a){"use strict";a("vJKn"),a("rg98");var r=a("nKUr");a("q1tI");t.a=function(e){var t=e.label,a=e.labelStartIcon,n=e.children,s=e.error,i=e.className,c=e.bodyClass,o=e.bodyStyle,l=e.style;return Object(r.jsxs)("div",{className:"form-group ".concat(i||""),style:l||{},children:[t&&Object(r.jsxs)("div",{className:"txt-lbl-container mb-xxs",children:[Object(r.jsx)("label",{className:"txt-lbl ",children:t}),a]}),Object(r.jsx)("div",{className:"form-group-body ".concat(c||""),style:o,children:n}),s&&Object(r.jsx)("label",{style:{fontSize:"11px"},className:"err-lbl",children:s})]})}},bLXM:function(e,t,a){"use strict";var r=a("cpVT"),n=a("nKUr"),s=a("dhJC");a("q1tI");function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){Object(r.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}t.a=function(e){var t=e.name,a=e.id,r=e.data,i=void 0===r?[]:r,o=e.className,l=e.style,u=e.Ref,d=Object(s.a)(e,["name","id","data","className","style","Ref"]);return Object(n.jsx)("select",c(c({className:"select-box ".concat(o||""),style:l,name:t,id:a,ref:u},d),{},{children:i.map((function(e,t){return Object(n.jsx)("option",{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},t)}))}))}},bXlS:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-info",function(){return a("piR5")}])},piR5:function(e,t,a){"use strict";a.r(t);var r=a("nKUr"),n=a("vJKn"),s=a.n(n),i=a("rg98"),c=a("cpVT"),o=a("vDqi"),l=a.n(o),u=a("20a2"),d=a("q1tI"),b=a("NKCw"),m=a("dDsW"),p=a("/MKj"),j=a("PSD3"),f=a.n(j),x=a("Nz3N"),O=a("OL2v"),h=a("HlVv"),g=a("SMXi"),y=a("NQIg"),v=a("3ca1"),w=a("8J/8"),N=a("H77e"),P=a("+NHn"),C=a("Vmg3"),q=a("bLXM"),E=a("DNwP");function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function D(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var R=[{id:"050",name:"050"},{id:"051",name:"051"},{id:"055",name:"055"},{id:"070",name:"070"},{id:"077",name:"077"}];function S(e){var t,a,n,o,p,j,E,_,S,A,z,k,F=Object(m.a)().formatMessage;if(!e.entry.isLoged)return Object(r.jsx)(C.a,{});var L=Object(d.useState)("AA"),T=L[0],B=(L[1],Object(d.useState)(D(D({},e.entry.user.user),{},{phone:e.entry.user.user.phone.slice(3),phone_typ:e.entry.user.user.phone.substr(0,3)}))),K=B[0],I=B[1],U=Object(u.useRouter)(),M=U.locale,J=(U.locales,U.defaultLocale,Object(b.a)()),X=J.register,H=J.errors,V=J.handleSubmit,Z=J.watch,$=J.setError,G=Object(b.a)(),W=G.register,Q=G.errors,Y=G.handleSubmit,ee=G.setError;Object(d.useEffect)((function(){for(var t in e.entry.errorMessages.errors)$(t,{message:e.entry.errorMessages.errors[t].join("\n")}),ee(t,{message:e.entry.errorMessages.errors[t].join("\n")})}),[e.entry.errorMessages]);var te=Object(d.useRef)(),ae=Object(d.useRef)();te.current=Z("new_password",""),ae.current=Z("phone_typ","");var re=function(e){var t=e.target,a=t.name,r=t.value;I(D(D({},K),{},Object(c.a)({},a,r)))};return Object(r.jsxs)(N.a,{className:"user-profile-page bg-bg pt-lg pb-lg",children:[Object(r.jsx)(O.a,{className:"mr-sm",children:Object(r.jsx)(x.a,{})}),Object(r.jsxs)(w.a,{className:"mobile__color p-none",children:[Object(r.jsxs)(g.a,{className:"bg-white p-sm br-lg",children:[Object(r.jsx)(g.a.Header,{text:F({id:"personalinfo"})}),Object(r.jsxs)("form",{onSubmit:Y((function(t){var a=D(D({},t),{},{phone:t.phone_typ+t.phone,birthday:t.birthday.split("-").reverse().join("-")});e.UpdateUser("user?lan=".concat(M),a,{"content-type":"application/json",accept:"application/json",authorization:"Bearer ".concat(e.entry.user.accessToken)})})),children:[Object(r.jsx)(g.a.Body,{className:"bg-bg",children:Object(r.jsxs)("div",{className:"flex__column",style:{display:"flex",flexWrap:"wrap"},children:[Object(r.jsx)(y.a,{label:F({id:"name"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(t=Q.firstname)||void 0===t?void 0:t.message,children:Object(r.jsx)(v.a,{type:"text",name:"firstname",Ref:W({required:{value:!0,message:"name is required"},pattern:{value:"",message:"name only takes letters"}}),value:K.firstname,onChange:re})}),Object(r.jsx)(y.a,{label:F({id:"surname"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(a=Q.lastname)||void 0===a?void 0:a.message,children:Object(r.jsx)(v.a,{type:"text",name:"lastname",Ref:W({required:{value:!0,message:"surname is required"},pattern:{value:"",message:"surname only takes letters"}}),value:K.lastname,onChange:re})}),Object(r.jsx)(y.a,{label:F({id:"email"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(n=Q.email)||void 0===n?void 0:n.message,children:Object(r.jsx)(v.a,{type:"email",name:"email",Ref:W({required:{value:!0,message:"email is required"},pattern:{value:/^(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){255,})(?!(?:(?:\x22?\x5C[\x00-\x7E]\x22?)|(?:\x22?[^\x5C\x22]\x22?)){65,}@)(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22))(?:\.(?:(?:[\x21\x23-\x27\x2A\x2B\x2D\x2F-\x39\x3D\x3F\x5E-\x7E]+)|(?:\x22(?:[\x01-\x08\x0B\x0C\x0E-\x1F\x21\x23-\x5B\x5D-\x7F]|(?:\x5C[\x00-\x7F]))*\x22)))*@(?:(?:(?!.*[^.]{64,})(?:(?:(?:xn--)?[a-z0-9]+(?:-[a-z0-9]+)*\.){1,126}){1,}(?:(?:[a-z][a-z0-9]*)|(?:(?:xn--)[a-z0-9]+))(?:-[a-z0-9]+)*)|(?:\[(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){7})|(?:(?!(?:.*[a-f0-9][:\]]){7,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,5})?)))|(?:(?:IPv6:(?:(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){5}:)|(?:(?!(?:.*[a-f0-9]:){5,})(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3})?::(?:[a-f0-9]{1,4}(?::[a-f0-9]{1,4}){0,3}:)?)))?(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))(?:\.(?:(?:25[0-5])|(?:2[0-4][0-9])|(?:1[0-9]{2})|(?:[1-9]?[0-9]))){3}))\]))$/,message:"email only takes letters"}}),value:K.email,onChange:re})}),Object(r.jsxs)(y.a,{label:F({id:"phone"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(o=Q.phone)||void 0===o?void 0:o.message,children:[Object(r.jsx)(q.a,{className:"bg-white",data:R,name:"phone_typ",Ref:W({required:{value:!0,message:"phone type is required"}}),value:K.phone_typ,onChange:re}),Object(r.jsx)(v.a,{type:"tel",name:"phone",maxLength:"9",Ref:W({required:{value:!0,message:"phone is required"},pattern:{value:/^[0-9]{3}[0-9]{2}[0-9]{2}$/,message:"phone is not correct format"},maxLength:{value:9,message:"phone must be 9 digits"}}),value:K.phone,onChange:re})]}),Object(r.jsxs)(y.a,{label:F({id:"serial"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(p=Q.serial)||void 0===p?void 0:p.message,children:[Object(r.jsx)(q.a,{onChange:function(e){re(e)},name:"serial_type",className:"bg-white",data:[{id:"AA",name:"AA"},{id:"AZE",name:"AZE"}],value:K.serial_type}),Object(r.jsx)(v.a,{type:"text",name:"serial",maxLength:"AA"===T?"7":"8",Ref:W({required:{value:!0,message:"serial number is required"},maxLength:{value:"AA"===T?7:8,message:"serial number is not correct"}}),value:K.serial,onChange:re})]}),Object(r.jsxs)(y.a,{label:F({id:"gender"}),bodyClass:"",className:"w-50 pr-xs mb-sm",children:[Object(r.jsx)(P.a,{text:F({id:"men"}),name:"gender",id:"male",value:"M",Ref:W(),checked:"M"===K.gender,onChange:re}),Object(r.jsx)(P.a,{text:F({id:"women"}),name:"gender",id:"female",value:"F",Ref:W(),checked:"F"===K.gender,onChange:re})]}),Object(r.jsx)(y.a,{label:F({id:"fin"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(j=Q.fin)||void 0===j?void 0:j.message,children:Object(r.jsx)(v.a,{type:"text",name:"fin",maxLength:"7",minLength:"7",Ref:W({required:{value:!0,message:"fin number is required"},maxLength:{value:7,message:"maximum 7 digits is required"},minLength:{value:7,message:"minimum 7 digits is required"}}),value:K.fin,onChange:re})}),Object(r.jsx)(y.a,{label:F({id:"nationality"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(E=Q.nationality)||void 0===E?void 0:E.message,children:Object(r.jsx)(q.a,{data:[{id:"Azerbaijan",name:"Azerbaijan"},{id:"Foreign",name:"Foreign"}],name:"nationality",Ref:W({required:{value:!0,message:"nationality is required"}}),value:K.nationality,onChange:re})}),Object(r.jsx)(y.a,{label:F({id:"date"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(_=Q.birthday)||void 0===_?void 0:_.message,children:Object(r.jsx)(v.a,{type:"date",name:"birthday",Ref:W({required:{value:!0,message:"birthday is required"}}),value:K.birthday,onChange:re})}),Object(r.jsx)(y.a,{label:F({id:"address"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(S=Q.address)||void 0===S?void 0:S.message,children:Object(r.jsx)(v.a,{type:"text",name:"address",Ref:W({required:{value:!0,message:"address  is required"}}),value:K.address,onChange:re})})]})}),Object(r.jsx)(g.a.Footer,{className:"mt-sm",style:{justifyContent:"flex-end"},children:Object(r.jsx)(h.a,{className:"w-25",label:F({id:"update"})})})]})]}),Object(r.jsxs)(g.a,{className:"bg-white p-sm",children:[Object(r.jsx)(g.a.Header,{text:F({id:"updatepass"})}),Object(r.jsxs)("form",{onSubmit:V((function(t){l.a.put("".concat("https://166api.titr.az/api/","user/password?lan=").concat(M),t,{headers:{"content-type":"application/json",accept:"application/json",authorization:"Bearer ".concat(e.entry.user.accessToken)}}).then(function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t;case 2:a=e.sent,f.a.fire({title:"Success!",text:a.message,icon:"success",confirmButtonText:"OK"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),f.a.fire({title:"Error!",text:e.message,icon:"error",confirmButtonText:"OK"})}))})),children:[Object(r.jsx)(g.a.Body,{className:"bg-bg",children:Object(r.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(r.jsx)(y.a,{label:F({id:"oldpassword"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(A=H.old_password)||void 0===A?void 0:A.message,children:Object(r.jsx)(v.a,{type:"password",name:"old_password",Ref:X({required:{value:!0,message:"password is required"},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"password is not valid"}})})}),Object(r.jsx)("div",{className:"w-50"}),Object(r.jsx)(y.a,{label:F({id:"newpassword"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(z=H.new_password)||void 0===z?void 0:z.message,children:Object(r.jsx)(v.a,{type:"password",name:"new_password",Ref:X({required:{value:!0,message:"password is required"},pattern:{value:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{8,}$/,message:"password is not valid"}})})}),Object(r.jsx)(y.a,{label:F({id:"repeat-pass"}),bodyClass:"bg-white",className:"w-50 pr-xs mb-sm",error:null===(k=H.new_password_confirmation)||void 0===k?void 0:k.message,children:Object(r.jsx)(v.a,{type:"password",name:"new_password_confirmation",Ref:X({required:{value:!0,message:"password is required"},validate:function(e){return e===te.current||"password is not match"}})})})]})}),Object(r.jsx)(g.a.Footer,{className:"mt-sm",style:{justifyContent:"flex-end"},children:Object(r.jsx)(h.a,{className:"",label:F({id:"updatepass"})})})]})]})]})]})}var A={UpdateUser:E.c};t.default=Object(p.b)((function(e){return{entry:e.entry}}),A)(Object(d.memo)(S))}},[["bXlS",0,1,2,3,4,5,6,8,7]]]);