_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[32],{"/AFn":function(e,t,c){"use strict";var r=c("nKUr");c("q1tI");t.a=function(e){var t=e.th,c=void 0===t?[]:t,a=e.data,s=void 0===a?[]:a,n=e.renderBody,i=void 0===n?function(){}:n,l=e.thClassName,o=e.trStyle,d=e.className;return Object(r.jsxs)("table",{className:"tabel ".concat(d||""),children:[Object(r.jsx)("thead",{className:"tabel-head ".concat(l||""),children:Object(r.jsx)("tr",{className:"",children:c.map((function(e,t){return Object(r.jsx)("th",{children:e},t)}))})}),Object(r.jsx)("tbody",{className:"tabel-body",children:s.map((function(e,t){return Object(r.jsx)("tr",{style:o,children:e&&Object.values(e).map(i)},t)}))})]})}},"3ca1":function(e,t,c){"use strict";var r=c("cpVT"),a=c("nKUr"),s=c("dhJC");c("q1tI");function n(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}t.a=function(e){var t=e.className,c=e.style,i=e.type,l=e.name,o=e.Ref,d=Object(s.a)(e,["className","style","type","name","Ref"]);return Object(a.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?n(Object(c),!0).forEach((function(t){Object(r.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}({type:i,name:l,autoComplete:"false",ref:o,className:"input ".concat(t||""),style:c},d))}},NQIg:function(e,t,c){"use strict";c("vJKn"),c("rg98");var r=c("nKUr");c("q1tI");t.a=function(e){var t=e.label,c=e.labelStartIcon,a=e.children,s=e.error,n=e.className,i=e.bodyClass,l=e.bodyStyle,o=e.style;return Object(r.jsxs)("div",{className:"form-group ".concat(n||""),style:o||{},children:[t&&Object(r.jsxs)("div",{className:"txt-lbl-container mb-xxs",children:[Object(r.jsx)("label",{className:"txt-lbl ",children:t}),c]}),Object(r.jsx)("div",{className:"form-group-body ".concat(i||""),style:l,children:a}),s&&Object(r.jsx)("label",{style:{fontSize:"11px"},className:"err-lbl",children:s})]})}},TcYw:function(e,t,c){"use strict";var r=c("nKUr"),a=c("cpVT"),s=c("dhJC");c("q1tI");function n(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function i(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?n(Object(c),!0).forEach((function(t){Object(a.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):n(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}t.a=function(e){var t=e.children,c=e.className,a=e.style,n=e.text,l=e.Ref,o=Object(s.a)(e,["children","className","style","text","Ref"]);return Object(r.jsxs)("div",{className:"checkbox-container",children:[Object(r.jsxs)("label",{className:"checkbox ".concat(c||""),style:a,children:[Object(r.jsx)("input",i({className:"checkbox_input",type:"checkbox",ref:l},o)),Object(r.jsx)("span",{})]}),n&&Object(r.jsx)("small",{children:n}),t]})}},gDIi:function(e,t,c){"use strict";c.r(t);var r=c("nKUr"),a=c("cpVT"),s=c("z7pX"),n=c("vJKn"),i=c.n(n),l=c("rg98"),o=c("vDqi"),d=c.n(o),b=c("20a2"),j=c("q1tI"),u=c("NKCw"),p=c("dDsW"),h=c("/MKj"),O=c("Nz3N"),m=c("OL2v"),f=c("HlVv"),x=c("SMXi"),g=c("TcYw"),y=c("NQIg"),v=c("3ca1"),N=c("8J/8");var k=function(e){var t=e.item,c=e.checkRef,a=e.onCheck,s=Object(p.a)().formatMessage;return Object(b.useRouter)().locale,Object(r.jsx)("div",{className:"package-item mr-xs",children:Object(r.jsxs)("div",{className:"package-item-header",children:[Object(r.jsx)("h1",{children:t.shop}),Object(r.jsx)("h5",{style:{color:"".concat(t.status.color)},children:t.status.name}),Object(r.jsx)("div",{className:"package-item-body",children:Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"tracking"}),":"]}),Object(r.jsx)("small",{children:t.track_number})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("strong",{children:"Smart Customs ID:"}),Object(r.jsx)("small",{children:t.smart_customs_id})]}),Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"getwhere"}),":"]}),Object(r.jsx)("small",{children:t.from})]}),Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"lastprice"}),":"]}),Object(r.jsxs)("small",{children:[parseFloat(t.price).toFixed(2)," ",t.currency]})]}),Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"category"}),":"]}),Object(r.jsx)("small",{children:t.category})]}),Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"weight"}),":"]}),Object(r.jsxs)("small",{children:[parseFloat(t.weight).toFixed(2)," kq"]})]}),Object(r.jsxs)("li",{children:[Object(r.jsxs)("strong",{children:[s({id:"dateon"}),":"]}),Object(r.jsx)("small",{children:t.date})]})]})}),Object(r.jsx)("a",{href:"".concat("https://166api.titr.az/storage/").concat(t.invoice),download:!0,children:Object(r.jsx)(f.a,{style:{fontSize:"10px"},className:"h-initial p-xxs w-100 bg-bg",label:s({id:"see-invoice"})})}),Object(r.jsxs)("div",{className:"package-item-footer",children:[Object(r.jsxs)("div",{className:"pif-amount",children:[Object(r.jsx)("span",{children:s({id:"deliveryprice"})}),t.customs_value_3?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("span",{children:[t.customs_value_3?parseFloat(t.customs_value_3).toFixed(2):0," AZN"]}),Object(r.jsxs)("del",{style:{textDecorationColor:"red"},children:[t.delivery_price?parseFloat(t.delivery_price).toFixed(2):0," AZN"]})]}):Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:[t.delivery_price?parseFloat(t.delivery_price).toFixed(2):0," AZN"]})})]}),Object(r.jsx)(g.a,{Ref:c,onClick:a,value:t.id,"data-price":t.customs_value_3?parseFloat(+t.price+ +t.customs_value_3).toFixed(2):parseFloat(+t.price+ +t.delivery_price).toFixed(2),text:s({id:"chooseone"})})]})]})})},w=c("H77e"),_=c("Vmg3"),P=c("/AFn");function S(e,t){var c=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),c.push.apply(c,r)}return c}function C(e){for(var t=1;t<arguments.length;t++){var c=null!=arguments[t]?arguments[t]:{};t%2?S(Object(c),!0).forEach((function(t){Object(a.a)(e,t,c[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(c)):S(Object(c)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(c,t))}))}return e}function F(e){var t;if(!e.entry.isLoged)return Object(r.jsx)(_.a,{});var c=Object(u.a)(),a=c.register,n=c.handleSubmit,o=c.errors,h=c.setError,S=Object(p.a)().formatMessage,F=Object(j.useState)([]),A=F[0],D=F[1],E=Object(j.useState)([]),R=E[0],I=E[1],q=Object(j.useState)([]),z=(q[0],q[1],Object(j.useState)({packages:[],total:0,code:"",isAccepted:!1,status:0})),T=z[0],B=z[1],J=Object(b.useRouter)().locale,K=Object(j.useRef)(),L=Object(j.useRef)([]);L.current=[];var X=Object(j.useRef)([]);X.current=[];Object(j.useLayoutEffect)((function(){d.a.get("".concat("https://166api.titr.az/api/","batches?lan=").concat(J),{headers:{authorization:"Bearer ".concat(e.entry.user.accessToken)}}).then((function(e){D(e.data),I(e.data)})).catch((function(e){return console.log(e)}))}),[]);var U=function(e){e&&!X.current.includes(e)&&X.current.push(e)},H=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.current.forEach((function(e){return e.classList.remove("pack-active")})),t.target.classList.add("pack-active");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e){H(e);var t=e.target.getAttribute("data-id");if(0!=t){var c=A.filter((function(e){return e.status.id==t}));I(Object(s.a)(c))}else I(Object(s.a)(A));B({packages:[],total:0,code:"",isAccepted:!1,status:t})},V=function(e){e&&!L.current.includes(e)&&L.current.push(e)},Z=function(e){var t=e.target,c=t.value,r=t.checked,a=e.target.getAttribute("data-price");if(r)T.packages.push(c),B(C(C({},T),{},{total:T.total+parseFloat(a),packages:Object(s.a)(T.packages)}));else{var n=T.packages.filter((function(e){return e!==c}));B(C(C({},T),{},{total:T.total-a,packages:Object(s.a)(n)}))}!T.packages.some((function(e){return e}))&&(K.current.checked=!1)};return Object(r.jsxs)(w.a,{className:"bg-bg pt-lg pb-lg",children:[Object(r.jsx)(m.a,{className:"mr-sm",children:Object(r.jsx)(O.a,{})}),Object(r.jsxs)(N.a,{className:"bg-c p-none",children:[Object(r.jsxs)(x.a,{className:"bg-bg pb-sm mgm_ss p-sm",children:[Object(r.jsx)(x.a.Header,{text:S({id:"active-pac"}),endElelment:Object(r.jsx)(g.a,{text:S({id:"choose-all"}),Ref:function(e){return K.current=e},onClick:function(e){var t=0,c=[];L.current.forEach((function(r){r.checked=e.target.checked,e.target.checked&&!c.includes(r.value)?(c.push(r.value),t+=+r.getAttribute("data-price")):(c=c.filter((function(e){return e!==r.value})),t-=0!==t&&+r.getAttribute("data-price"))})),B(C(C({},T),{},{total:t,packages:c}))},className:"bg-white border-subtitle"})}),Object(r.jsx)("div",{style:{overflowX:"scroll"},children:Object(r.jsxs)("div",{className:" pl-none",style:{display:"flex",marginBottom:"20px",width:"max-content"},children:[Object(r.jsx)(f.a,{label:"Hams\u0131 (".concat(A.length,")"),className:"mr-xs p-sm bg-bg pack-active","data-id":0,Ref:U,onClick:M}),Object(r.jsx)(f.a,{label:"Xarici anvarda (".concat(A.filter((function(e){return 3==e.status.id})).length,")"),className:"mr-xs p-sm bg-bg ","data-id":3,Ref:U,onClick:M}),Object(r.jsx)(f.a,{label:"Bak\u0131 ofisind\u0259 (".concat(A.filter((function(e){return 5==e.status.id})).length,")"),className:"mr-xs p-sm bg-bg ","data-id":5,Ref:U,onClick:M}),Object(r.jsx)(f.a,{label:"G\xf6mr\xfckd\u0259 (".concat(A.filter((function(e){return 7==e.status.id})).length,")"),className:"p-sm bg-bg","data-id":7,Ref:U,onClick:M})]})}),Object(r.jsx)(x.a.Body,{className:"p-none",children:Object(r.jsx)("div",{className:"packages__fr",children:R.filter((function(e){return 6!==e.status.id})).map((function(e){return Object(r.jsx)(k,{checkRef:V,item:e,onCheck:Z},e.id)}))})}),Object(r.jsxs)("div",{className:"footer__pck",children:[Object(r.jsxs)("div",{className:"package-total",children:[Object(r.jsxs)("small",{children:[T.packages.length," ",S({id:"chosed"})]}),Object(r.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(r.jsxs)("b",{children:[S({id:"total"}),":"]}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsx)("del",{style:{textDecorationColor:"red"},children:"15.30 AZN"}),Object(r.jsxs)("b",{children:[T.total," AZN"]})]})]})]}),Object(r.jsxs)("div",{className:"package__btns",children:[Object(r.jsx)("form",{children:Object(r.jsxs)(y.a,{bodyClass:"bg-white pl-xs",bodyStyle:{height:"44px",width:"200px"},className:"mr-xs chng__bodystyle",style:{marginBottom:"0px"},error:null===(t=o.promocode)||void 0===t?void 0:t.message,children:[Object(r.jsx)(v.a,{placeholder:S({id:"addcode"}),name:"promocode",Ref:a({required:{value:!0,message:S({id:"promo-requir"})}}),onChange:function(e){return B(C(C({},T),{},{code:e.target.value}))}}),T.isAccepted?Object(r.jsx)(f.a,{className:"bg-white w-50",style:{textDecorationLine:"underline",color:"darkblue",padding:"0px 10px"},label:"L\u0259\u011fv et",onClick:function(){B(C(C({},T),{},{isAccepted:!1}))}}):Object(r.jsx)(f.a,{disabled:!T.code,style:{padding:"0 10px"},className:"color-white bg-success",label:S({id:"confirm"}),type:"submit",onClick:n((function(t){console.log(t),d.a.post("".concat("https://166api.titr.az/api/","promocode?promocode=").concat(t.promocode,"&status=").concat(T.status),{},{headers:{"content-type":"application/json",authorization:"Bearer ".concat(e.entry.user.accessToken)}}).then((function(e){console.log(e.data.batches),D(e.data.batches),I(e.data.batches)})).catch((function(e){h("promocode",{message:e.response.data.error})}))}))})]})}),Object(r.jsx)(f.a,{style:{padding:"0 20px"},className:"color-white bg-success mr-xs desk",label:S({id:"paybycard"}),endElement:Object(r.jsx)("span",{className:"color-white pl-sm",children:"\u2192"})}),Object(r.jsx)(f.a,{style:{padding:"0 10px"},className:"desk",label:S({id:"paybybalance"}),endElement:Object(r.jsx)("span",{className:"color-black mr-xs pl-sm ",children:"\u2192"})}),Object(r.jsxs)("div",{className:"btn__fkl",children:[Object(r.jsx)(f.a,{style:{padding:"0 10px"},className:"color-white bg-success mr-xs",label:S({id:"paybycard"}),endElement:Object(r.jsx)("span",{className:"color-white pl-sm",children:"\u2192"})}),Object(r.jsx)(f.a,{style:{padding:"0 10px"},label:S({id:"paybybalance"}),endElement:Object(r.jsx)("span",{className:"color-black mr-xs pl-sm",children:"\u2192"})})]})]})]})]}),Object(r.jsxs)(x.a,{className:"p-sm bg-white",children:[Object(r.jsx)(x.a.Header,{text:S({id:"order-history"})}),Object(r.jsx)(x.a.Body,{className:"p-none overflow__package",children:Object(r.jsx)(P.a,{th:[S({id:"tracking"}),S({id:"shop"}),S({id:"category"}),S({id:"amount"}),S({id:"weight"}),S({id:"delivery"}),S({id:"status"})],data:A.map((function(e){if(6==e.status.id)return{track_number:e.track_number,shop:e.shop,category:e.category,price:"".concat(e.price," ").concat(e.currency),weight:"".concat(parseFloat(e.weight).toFixed(2)||0," kq"),delivery_price:parseFloat(e.delivery_price).toFixed(2)||0,status:"".concat(e.status.name,"\n ").concat(e.date)}}))||[],renderBody:function(e,t){return Object(r.jsx)("td",{children:e},t++)}})})]})]})]})}t.default=Object(h.b)((function(e){return{entry:e.entry}}))(Object(j.memo)(F))},ufJy:function(e,t,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/packages",function(){return c("gDIi")}])},z7pX:function(e,t,c){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var c=0,r=new Array(t);c<t;c++)r[c]=e[c];return r}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return r(e,t);var c=Object.prototype.toString.call(e).slice(8,-1);return"Object"===c&&e.constructor&&(c=e.constructor.name),"Map"===c||"Set"===c?Array.from(e):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}c.d(t,"a",(function(){return a}))}},[["ufJy",0,1,2,3,4,5,6,7]]]);