_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{"3ca1":function(e,t,r){"use strict";var a=r("cpVT"),s=r("nKUr"),c=r("dhJC");r("q1tI");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}t.a=function(e){var t=e.className,r=e.style,l=e.type,i=e.name,o=e.Ref,d=Object(c.a)(e,["className","style","type","name","Ref"]);return Object(s.jsx)("input",function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({type:l,name:i,autoComplete:"false",ref:o,className:"input ".concat(t||""),style:r},d))}},GZYo:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/new-order",function(){return r("h8Vj")}])},NQIg:function(e,t,r){"use strict";r("vJKn"),r("rg98");var a=r("nKUr");r("q1tI");t.a=function(e){var t=e.label,r=e.labelStartIcon,s=e.children,c=e.error,n=e.className,l=e.bodyClass,i=e.bodyStyle,o=e.style;return Object(a.jsxs)("div",{className:"form-group ".concat(n||""),style:o||{},children:[t&&Object(a.jsxs)("div",{className:"txt-lbl-container mb-xxs",children:[Object(a.jsx)("label",{className:"txt-lbl ",children:t}),r]}),Object(a.jsx)("div",{className:"form-group-body ".concat(l||""),style:i,children:s}),c&&Object(a.jsx)("label",{style:{fontSize:"11px"},className:"err-lbl",children:c})]})}},TcYw:function(e,t,r){"use strict";var a=r("nKUr"),s=r("cpVT"),c=r("dhJC");r("q1tI");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.a=function(e){var t=e.children,r=e.className,s=e.style,n=e.text,i=e.Ref,o=Object(c.a)(e,["children","className","style","text","Ref"]);return Object(a.jsxs)("div",{className:"checkbox-container",children:[Object(a.jsxs)("label",{className:"checkbox ".concat(r||""),style:s,children:[Object(a.jsx)("input",l({className:"checkbox_input",type:"checkbox",ref:i},o)),Object(a.jsx)("span",{})]}),n&&Object(a.jsx)("small",{children:n}),t]})}},h8Vj:function(e,t,r){"use strict";r.r(t);var a=r("nKUr"),s=r("cpVT"),c=r("z7pX"),n=r("vDqi"),l=r.n(n),i=r("YFqc"),o=r.n(i),d=r("20a2"),b=r("q1tI"),u=r("NKCw"),j=r("dDsW"),m=r("/MKj"),p=r("PSD3"),O=r.n(p),f=r("Nz3N"),x=r("OL2v"),h=r("HlVv"),y=r("SMXi"),v=r("TcYw"),g=r("NQIg"),w=r("3ca1"),N=r("8J/8"),C=r("H77e"),P=r("Vmg3");function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function E(e){if(!e.entry.isLoged)return Object(a.jsx)(P.a,{});var t=Object(j.a)().formatMessage,r=Object(d.useRouter)().locale,n=Object(u.a)(),i=n.register,m=n.handleSubmit,p=n.errors,k=(n.setError,n.clearErrors,Object(b.useState)([{url:{value:"",error:""},price:{value:"",error:""},notes:{value:"",error:""},color:{value:"",error:""},size:{value:"",error:""},count:{value:"",error:""}}])),E=k[0],S=k[1],q=Object(b.useState)({country:"15",is_fast:0,ruleAccepted:!1}),z=q[0],R=q[1],A=function(e){e.preventDefault(),E.push({url:{value:"",error:""},price:{value:"",error:""},notes:{value:"",error:""},color:{value:"",error:""},size:{value:"",error:""},count:{value:"",error:""}}),S(Object(c.a)(E))},D=function(e){var t=e.target.getAttribute("data-id");E.splice(t,1),S(Object(c.a)(E))},I=function(t){t.stopPropagation();var r=t.target.getAttribute("data-id"),a=t.target,n=a.name,l=a.value;E[r]=_(_({},E[r]),{},Object(s.a)({},n,_(_({},E[r][n]),{},{value:l}))),E[r].count&&E[r].price?E[r]=_(_({},E[r]),{},{total:z.is_fast?E[r].count.value*E[r].price.value+e.fastOrderPrice:E[r].count.value*E[r].price.value}):E[r]=_(_({},E[r]),{},{total:""}),S(Object(c.a)(E))},T=function(e,t){E.forEach((function(r){return e?r.total+=t:r.total-=t}))},F=function(t){if(console.log(t),z.ruleAccepted){var a=_(_({},z),{},{items:E.map((function(e){var t={};for(var r in e)t[r]=e[r].value;return t}))});l.a.post("".concat("https://166api.titr.az/api/","orders?lan=").concat(r),a,{headers:{"Content-Type":"application/json",Accepts:"application/json",Authorization:"Bearer ".concat(e.entry.user.accessToken)}}).then((function(e){S([{url:{value:"",error:""},price:{value:"",error:""},notes:{value:"",error:""},color:{value:"",error:""},size:{value:"",error:""},count:{value:"",error:""}}]),O.a.fire({success:"success",text:"emeliyyat ugurlu oldu",icon:"success"})})).catch((function(e){e.response.data.errors.items.forEach((function(e,t){for(var r in e)E[t]=_(_({},E[t]),{},Object(s.a)({},r,_(_({},E[t][r]),{},{error:e[r]})))})),S(Object(c.a)(E))}))}};return console.log(p),Object(a.jsxs)(C.a,{className:"bg-bg pt-lg",children:[Object(a.jsx)(x.a,{className:"mr-sm",children:Object(a.jsx)(f.a,{})}),Object(a.jsxs)(N.a,{className:"br-sm bg-white br-lg",children:[Object(a.jsxs)(y.a,{className:"p-sm desktop__order",children:[Object(a.jsx)(y.a.Header,{text:t({id:"new-order"})}),Object(a.jsxs)("form",{children:[E.map((function(e,r){var s,c,n,l,o;return Object(a.jsxs)(y.a.Body,{className:"bg-yellow p-sm br-lg mb-xs p-r",children:[r>0?Object(a.jsx)("span",{onClick:D,"data-id":r,style:{color:"red",position:"absolute",top:"10px",right:"10px",cursor:"pointer"},children:"\u2716"}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{className:"from-container",style:{display:"flex"},children:[Object(a.jsxs)("div",{className:"w-50 mr-sm fc-col",style:{},children:[Object(a.jsx)(g.a,{label:t({id:"link"}),className:"w-100",bodyClass:"bg-white",error:null===(s=p.url)||void 0===s?void 0:s.message,children:Object(a.jsx)(w.a,{type:"text",name:"url","data-id":r,value:e.url.value,Ref:i({required:{value:!0,message:"url mm\u0259cburidir"}}),onChange:I})}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(g.a,{label:t({id:"color"}),className:"w-50 mr-sm",bodyClass:"bg-white",error:(null===(c=p.color)||void 0===c?void 0:c.message)||e.color.error,children:Object(a.jsx)(w.a,{type:"text",name:"color","data-id":r,value:e.color.value,Ref:i({required:{value:!0,message:"color mm\u0259cburidir"}}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"size"}),className:"w-50",bodyClass:"bg-white",error:(null===(n=p.size)||void 0===n?void 0:n.message)||e.size.error,children:Object(a.jsx)(w.a,{min:0,type:"text",name:"size","data-id":r,value:e.size.value,Ref:i({required:{value:!0,message:"size mm\u0259cburidir"}}),onChange:I})})]})]}),Object(a.jsxs)("div",{className:"w-50 fc-col",children:[Object(a.jsxs)("div",{className:"w-100",style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)(g.a,{label:t({id:"count-pro"}),className:"mr-xs",bodyClass:"bg-white",error:(null===(l=p.count)||void 0===l?void 0:l.message)||e.count.error,children:Object(a.jsx)(w.a,{min:0,type:"number",name:"count","data-id":r,value:e.count.value,Ref:i({required:{value:!0,message:"say mm\u0259cburidir"}}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"price"}),className:"mr-xs",bodyClass:"bg-white",error:(null===(o=p.price)||void 0===o?void 0:o.message)||e.price.error,children:Object(a.jsx)(w.a,{type:"number",name:"price","data-id":r,min:0,value:e.price.value,Ref:i({required:{value:!0,message:"qiym\u0259t mm\u0259cburidir"}}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"total"}),className:"mr-xs",bodyClass:"bg-white",children:Object(a.jsx)(w.a,{min:0,type:"number",name:"total","data-id":r,value:e.total,Ref:i(),disabled:!0})})]}),Object(a.jsx)(g.a,{label:t({id:"note"}),className:"w-100",bodyClass:"bg-white",error:e.notes.error,children:Object(a.jsx)(w.a,{type:"text",name:"notes","data-id":r,value:e.notes.value,Ref:i(),onChange:I})})]})]})]},r)})),Object(a.jsxs)(y.a.Footer,{className:"mt-sm",style:{justifyContent:"space-between"},children:[Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{onClick:A,className:"w-100 p-sm bg-white border-success color-success",startElement:Object(a.jsx)("span",{className:"mr-xs color-success",children:"+"}),label:t({id:"addnewproduct"})})}),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(a.jsx)(v.a,{text:t({id:"isfast"}),name:"is_fast",value:z.is_fast,onClick:function(t){R(_(_({},z),{},{is_fast:+t.target.checked})),T(t.target.checked,e.fastOrderPrice)}}),Object(a.jsx)(v.a,{onClick:function(e){R(_(_({},z),{},{ruleAccepted:e.target.checked}))},children:Object(a.jsx)(o.a,{href:"/",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("a",{className:"mr-xs",style:{width:"-webkit-max-content"}}),t({id:"agreement"})]})})}),Object(a.jsx)(h.a,{style:{padding:"0 5px"},label:t({id:"ord-pay"}),endElement:Object(a.jsx)("span",{className:"ml-xs",children:"\u203a"}),className:" w-100",disabled:!z.ruleAccepted,onClick:m(F)})]})]})]})]}),Object(a.jsxs)(y.a,{className:"p-sm mobile__order",children:[Object(a.jsx)(y.a.Header,{text:t({id:"new-order"})}),Object(a.jsxs)("form",{onSubmit:m(F),children:[E.map((function(e,r){return Object(a.jsxs)(y.a.Body,{className:"bg-yellow p-sm br-lg mb-xs p-r",children:[r>0?Object(a.jsx)("span",{onClick:D,"data-id":r,style:{color:"red",position:"absolute",top:"10px",right:"10px",cursor:"pointer"},children:"\u2716"}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)("div",{className:"",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(g.a,{label:t({id:"link"}),className:"w-100",bodyClass:"bg-white",error:e.url.error,children:Object(a.jsx)(w.a,{type:"text",name:"url","data-id":r,value:e.url.value,Ref:i({required:!0}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"count-pro"}),bodyClass:"bg-white",error:e.count.error,children:Object(a.jsx)(w.a,{min:0,type:"number",name:"count","data-id":r,value:e.count.value,Ref:i({required:!0}),onChange:I})}),Object(a.jsxs)("div",{className:"w-100",style:{display:"flex",justifyContent:"space-between"},children:[Object(a.jsx)(g.a,{label:t({id:"price"}),className:" w-50 mr-xs",bodyClass:"bg-white",error:e.price.error,children:Object(a.jsx)(w.a,{type:"number",name:"price","data-id":r,min:0,value:e.price.value,Ref:i({required:!0}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"total"}),className:" w-50",bodyClass:"bg-white",children:Object(a.jsx)(w.a,{type:"number",name:"total","data-id":r,value:e.total,Ref:i({required:!0}),disabled:!0})})]}),Object(a.jsxs)("div",{style:{display:"flex"},children:[Object(a.jsx)(g.a,{label:t({id:"color"}),className:"w-50 mr-xs",bodyClass:"bg-white",error:e.color.error,children:Object(a.jsx)(w.a,{type:"text",name:"color","data-id":r,value:e.color.value,Ref:i({required:!0}),onChange:I})}),Object(a.jsx)(g.a,{label:t({id:"size"}),className:"w-50",bodyClass:"bg-white",error:e.size.error,children:Object(a.jsx)(w.a,{min:0,type:"text",name:"size","data-id":r,value:e.size.value,Ref:i({required:!0}),onChange:I})})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)(g.a,{label:t({id:"note"}),className:"w-100",bodyClass:"bg-white",error:e.notes.error,children:Object(a.jsx)(w.a,{type:"text",name:"notes","data-id":r,value:e.notes.value,Ref:i({required:!0}),onChange:I})})})]})]},r)})),Object(a.jsxs)("div",{className:"mt-sm",children:[Object(a.jsx)("div",{children:Object(a.jsx)(h.a,{onClick:A,className:"w-100 p-sm bg-white border-success color-success",startElement:Object(a.jsx)("span",{className:"mr-xs color-success",children:"+"}),label:t({id:"addnewproduct"})})}),Object(a.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"10px 0"},children:[Object(a.jsx)(v.a,{text:t({id:"isfast"}),name:"is_fast",value:z.is_fast,onClick:function(t){R(_(_({},z),{},{is_fast:+t.target.checked})),T(t.target.checked,e.fastOrderPrice)}}),Object(a.jsx)(v.a,{onClick:function(e){R(_(_({},z),{},{ruleAccepted:e.target.checked}))},children:Object(a.jsx)(o.a,{href:"/",children:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("a",{className:"mr-xs",style:{width:"-webkit-max-content"}}),t({id:"agreement"})]})})})]}),Object(a.jsx)(h.a,{style:{padding:"0 5px"},label:t({id:"ord-pay"}),endElement:Object(a.jsx)("span",{className:"ml-xs",children:"\u203a"}),className:" w-100",disabled:!z.ruleAccepted})]})]})]})]})]})}t.default=Object(m.b)((function(e){return{entry:e.entry,fastOrderPrice:e.settings.data.fast_order_fixed_price,serviceFeePersentage:e.settings.data.service_fee_percent}}))(Object(b.memo)(E))},z7pX:function(e,t,r){"use strict";function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}r.d(t,"a",(function(){return s}))}},[["GZYo",0,1,2,3,4,5,6,8,7]]]);